#-*- mode: makefile; tab-width: 4; -*-
#
########## fwbuilder/qmake.inc.in
#
QTDIR = $$(QTDIR)
TEMPLATE = app
SO_VERSION = @LIBFWBUILDER_SOLIB_VERSION@
DEFINES += $$(DEFINES)
LANGUAGE = C++
UI_DIR = ui
MANDIR = @MANDIR@
DOCDIR = @DOCDIR@

HAVE_ANTLR_RUNTIME = @HAVE_ANTLR_RUNTIME@
HAVE_EXTERNAL_ANTLR = @HAVE_EXTERNAL_ANTLR@
HAVE_QTDBUS = @HAVE_QTDBUS@

unix {
    PREFIX = @PREFIX@

    ANTLR_INCLUDEPATH =  @ANTLR_INCLUDEPATH@
    ANTLR_LIBS =  @ANTLR_LIBS@
    FWBPARSER_LIB = ../parsers/libfwbparser.a
    FWTRANSFER_LIB = ../fwtransfer/libfwtransfer.a

    QMAKE_CXX = @CCACHE@ @DISTCC@ g++

    !macx {

        UI_DIR = .ui
        MOC_DIR = .moc
        OBJECTS_DIR = .obj

        exec_prefix = @EXEC_PREFIX@
        DESTDIR =
        ICONSDIR = @ICONSDIR@

        INCLUDEPATH += .. ../.. $$(INCLUDEPATH) @LIBFWBUILDER_INCLUDEPATH@

        LIBS_FWCOMPILER = @LIBFWBUILDER_LIBS_FWCOMPILER@
        LIBS_FWBUILDER = @LIBFWBUILDER_LIBS_FWBUILDER@

        target.path = $$PREFIX/bin
        dtd.path = @TEMPLATE_DIR@/
        migration.path = @TEMPLATE_DIR@/migration
        doc.path = @DOCDIR@
        datadir.path   = @DATADIR@

        res.path = @RES_DIR@
        res_os.path = @RES_DIR@/os/
        res_platform.path = @RES_DIR@/platform/
        res_desktop.path = @DATADIR@/applications/
        res_help_C.path = @RES_DIR@/help/C
        res_help_en_US.path = @RES_DIR@/help/en_US
        res_configlets_linux24.path = @RES_DIR@/configlets/linux24
        res_configlets_ipcop.path = @RES_DIR@/configlets/ipcop
        res_configlets_sveasoft.path = @RES_DIR@/configlets/sveasoft

        INSTALLS += res 
        INSTALLS += res_os
        INSTALLS += res_platform
        # INSTALLS += icns
        LIBS += $$LIBS_FWBUILDER @LIBS@

        PKGLOCALEDIR = $$res.path/locale

        LIBS += $$LIBS_FWBUILDER @LIBS@

        CONFIG += warn_on debug
        QMAKE_CFLAGS_DEBUG += -Wno-unused-parameter
        QMAKE_CFLAGS_RELEASE += -Wno-unused-parameter
        QMAKE_CXXFLAGS_DEBUG += -Wno-unused-parameter
        QMAKE_CXXFLAGS_RELEASE += -Wno-unused-parameter
    }
}

win32 {
    CONFIG -= debug
}

exists(qmake2.inc) {
  include(qmake2.inc)
}

INSTALLS += target
