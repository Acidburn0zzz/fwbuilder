#-*- mode: makefile; tab-width: 4; -*-
#
######### libfwbuilder/qmake.inc.in
#
QTDIR         = $$(QTDIR)

TEMPLATE      = app

SO_VERSION    = @LIBFWBUILDER_SOLIB_VERSION@

DEFINES      += $$(DEFINES)
INCLUDEPATH  += .. ../.. $$(INCLUDEPATH) @LIBFWBUILDER_INCLUDEPATH@
LANGUAGE      = C++
UI_DIR        = ui
MANDIR        = @MANDIR@
DOCDIR        = @DOCDIR@

HAVE_ANTLR_RUNTIME = @HAVE_ANTLR_RUNTIME@
HAVE_EXTERNAL_ANTLR = @HAVE_EXTERNAL_ANTLR@

unix {
    ANTLR_INCLUDEPATH =  @ANTLR_INCLUDEPATH@
    ANTLR_LIBS =  @ANTLR_LIBS@
    FWBPARSER_LIB = ../parsers/libfwbparser.a
}


unix {
!macx {
	UI_DIR = .ui
	MOC_DIR = .moc
	OBJECTS_DIR = .obj

	PREFIX                  = @PREFIX@
	exec_prefix             = @EXEC_PREFIX@
	DESTDIR                 =

    LIBS_FWCOMPILER         = @LIBFWBUILDER_LIBS_FWCOMPILER@
    LIBS_FWBUILDER          = @LIBFWBUILDER_LIBS_FWBUILDER@

	target.path             = $$PREFIX/bin
	dtd.path                = @TEMPLATE_DIR@/
	migration.path          = @TEMPLATE_DIR@/migration
	doc.path                = @DOCDIR@

#	win32:target.path    = $$PREFIX/
#	unix:target.path     = $$PREFIX/share/fwbuilder/
#	macx:target.path     = $$PREFIX/

	res.files           = src/res/objects_init.xml src/res/templates.xml src/res/resources.xml
	res.path			= @RES_DIR@
	res_os.files        = src/res/os/*.xml
	res_os.path 		= @RES_DIR@/os/
	res_platform.files  = src/res/platform/*.xml
	res_platform.path 	= @RES_DIR@/platform/

    INSTALLS		   += res 
    INSTALLS		   += res_os
    INSTALLS		   += res_platform
#        INSTALLS   += icns
	LIBS                   += $$LIBS_FWBUILDER @LIBS@

	PKGLOCALEDIR			= $$res.path/locale

	CONFIG                 += warn_on debug
	QMAKE_CFLAGS_DEBUG     += -Wno-unused-parameter
	QMAKE_CFLAGS_RELEASE   += -Wno-unused-parameter
	QMAKE_CXXFLAGS_DEBUG   += -Wno-unused-parameter @CXXFLAGS@
	QMAKE_CXXFLAGS_RELEASE += -Wno-unused-parameter @CXXFLAGS@
}
}

exists(qmake2.inc) {
  include( qmake2.inc)
}

INSTALLS   += target
